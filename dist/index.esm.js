import e,{useState as t,useRef as a,useEffect as n}from"react";var r,o,i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};function s(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function c(e,t){return void 0===t&&(t="default"),e.toLocaleString(t,{month:"short"})}function l(e,t,a){if(void 0===t&&(t=r.FULL_DATE),void 0===a&&(a="default"),!(e instanceof Date)||isNaN(e.getTime()))return"Invalid date";switch(t){case r.MONTH_YEAR:return e.toLocaleString(a,{month:"short",year:"2-digit"});case r.SHORT_DATE:return e.toLocaleString(a,{month:"short",day:"numeric"});case r.FULL_DATE:default:return e.toLocaleString(a,{month:"short",day:"numeric",year:"numeric"})}}function d(e,t){var a=[];if(!(e instanceof Date&&t instanceof Date))return console.warn("getMonthsBetween: Invalid date parameters"),[new Date];for(var n=e.getFullYear(),r=e.getMonth(),o=t.getFullYear(),i=t.getMonth(),s=n;s<=o;s++)for(var c=s===o?i:11,l=s===n?r:0;l<=c;l++)a.push(new Date(s,l,1));return a}function u(e,t){return new Date(e,t+1,0).getDate()}function m(){return[1,8,15,22,29]}function f(e,t,a){if(!(e.startDate instanceof Date&&e.endDate instanceof Date))return console.warn("calculateTaskPosition: Invalid task dates",e),{left:"0%",width:"10%"};var n=d(new Date(t.getFullYear(),t.getMonth(),1),new Date(a.getFullYear(),a.getMonth()+1,0)),r=n.length,o=e.startDate.getFullYear(),i=e.startDate.getMonth(),s=n.findIndex((function(e){return e.getFullYear()===o&&e.getMonth()===i})),c=s<0?0:s,l=e.endDate.getFullYear(),u=e.endDate.getMonth(),m=n.findIndex((function(e){return e.getFullYear()===l&&e.getMonth()===u})),f=((m<0?n.length-1:m)-c+1)/r*100;return{left:"".concat(c/r*100,"%"),width:"".concat(f,"%")}}function g(e){if(!Array.isArray(e))return console.warn("detectTaskOverlaps: Invalid tasks array"),[];var t=e.filter((function(e){return e&&e.startDate instanceof Date&&e.endDate instanceof Date}));if(0===t.length)return[];var a=[];return t.forEach((function(e){for(var t=!1,n=0;n<a.length;n++){if(!a[n].some((function(t){return!(e.startDate>=t.endDate||e.endDate<=t.startDate)}))){a[n].push(e),t=!0;break}}t||a.push([e])})),a}function h(e){if(!Array.isArray(e)||0===e.length)return new Date;var t=new Date,a=!1;if(e.forEach((function(e){e&&Array.isArray(e.tasks)&&e.tasks.forEach((function(e){e&&e.startDate instanceof Date&&(a?e.startDate<t&&(t=new Date(e.startDate)):(t=new Date(e.startDate),a=!0))}))})),!a){var n=new Date;return new Date(n.getFullYear(),n.getMonth()-1,1)}return new Date(t.getFullYear(),t.getMonth(),1)}function v(e){if(!Array.isArray(e)||0===e.length)return new Date;var t=new Date,a=!1;if(e.forEach((function(e){e&&Array.isArray(e.tasks)&&e.tasks.forEach((function(e){e&&e.endDate instanceof Date&&(a?e.endDate>t&&(t=new Date(e.endDate)):(t=new Date(e.endDate),a=!0))}))})),!a){var n=new Date;return new Date(n.getFullYear(),n.getMonth()+2,0)}return new Date(t.getFullYear(),t.getMonth()+1,0)}function D(e,t,a){if(void 0===a&&(a="default"),!(e instanceof Date&&t instanceof Date))return"Invalid date range";var n=l(e,r.SHORT_DATE,a),o=l(t,r.SHORT_DATE,a);return"".concat(n," - ").concat(o)}function p(e,t){var a;if(!(e instanceof Date&&t instanceof Date))return 0;e>t&&(e=(a=[t,e])[0],t=a[1]);var n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/864e5)}"function"==typeof SuppressedError&&SuppressedError,function(e){e.MONTH_YEAR="month-year",e.FULL_DATE="full-date",e.SHORT_DATE="short-date"}(r||(r={})),function(e){e.DAY="day",e.WEEK="week",e.MONTH="month",e.QUARTER="quarter",e.YEAR="year"}(o||(o={}));var w=function(){function e(){}return e.detectOverlaps=function(e){if(!Array.isArray(e)||0===e.length)return[];var t=[];return e.forEach((function(e){for(var a=!1,n=0;n<t.length;n++){if(!t[n].some((function(t){return!(e.startDate>=t.endDate||e.endDate<=t.startDate)}))){t[n].push(e),a=!0;break}}a||t.push([e])})),t},e.wouldCollide=function(e,t,a){return t.some((function(t){return t.id!==e.id&&t.id!==a&&!(e.startDate>=t.endDate||e.endDate<=t.startDate)}))},e.getPreviewArrangement=function(e,t){var a=t.map((function(t){return t.id===e.id?e:t}));return this.detectOverlaps(a)},e}(),k=function(){function e(){}return e.calculateDatesFromPosition=function(e,t,a,n,r,o){try{var i=isNaN(e)?0:e,s=isNaN(t)||t<20?20:t,c=a.getTime(),l=(n.getTime()-c)/(r*o),d=i*l,u=s*l,m=new Date(c+d),f=new Date(c+d+u);if(m<a){var g=f.getTime()-m.getTime();return{newStartDate:new Date(a),newEndDate:new Date(a.getTime()+g)}}if(f>n){g=f.getTime()-m.getTime();return{newStartDate:new Date(n.getTime()-g),newEndDate:new Date(n)}}return{newStartDate:m,newEndDate:f}}catch(e){return console.error("Error calculating dates from position:",e),{newStartDate:new Date(a),newEndDate:new Date(n)}}},e.createUpdatedTask=function(e,t,a){return i(i({},e),{startDate:new Date(t),endDate:new Date(a)})},e.calculateTaskPixelPosition=function(e,t,a,n,r){try{if(!(e.startDate instanceof Date&&e.endDate instanceof Date))throw new Error("Invalid dates in task");var o=Math.max(e.startDate.getTime(),t.getTime()),i=Math.min(e.endDate.getTime(),a.getTime()),s=t.getTime(),c=a.getTime()-s,l=(i-o)/c*100;return{leftPx:(o-s)/c*100/100*n*r,widthPx:Math.max(20,l/100*n*r)}}catch(t){return console.error("Error calculating task position:",t,e),{leftPx:0,widthPx:20}}},e.getLiveDatesFromElement=function(e,t,a,n,r){try{if(!e)return{startDate:new Date(t),endDate:new Date(a)};var o=parseFloat(e.style.left||"0"),i=parseFloat(e.style.width||"0"),s=this.calculateDatesFromPosition(o,i,t,a,n,r);return{startDate:s.newStartDate,endDate:s.newEndDate}}catch(e){return console.error("Error getting live dates:",e),{startDate:new Date(t),endDate:new Date(a)}}},e.formatDate=function(e,t){return void 0===t&&(t="default"),e instanceof Date&&!isNaN(e.getTime())?e.toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric"}):"Invalid date"},e.getDuration=function(e,t){try{if(!(e instanceof Date)||!(t instanceof Date)||isNaN(e.getTime())||isNaN(t.getTime()))return 0;var a=e<t?e:t,n=e<t?t:e,r=Math.abs(n.getTime()-a.getTime());return Math.ceil(r/864e5)}catch(e){return console.error("Error calculating duration:",e),0}},e.getMonthName=function(e,t){return void 0===t&&(t="default"),e instanceof Date&&!isNaN(e.getTime())?e.toLocaleString(t,{month:"short"}):""},e.getDaysInMonth=function(e){return e instanceof Date&&!isNaN(e.getTime())?new Date(e.getFullYear(),e.getMonth()+1,0).getDate():30},e.datesOverlap=function(e,t,a,n){return e<=n&&t>=a},e}(),y=function(t){var a=t.task,n=t.leftPx,r=t.widthPx,o=t.topPx,i=t.isHovered,s=t.isDragging,c=t.editMode,l=t.showProgress,d=void 0!==l&&l,u=t.instanceId,m=t.onMouseDown,f=t.onMouseEnter,g=t.onMouseLeave,h=t.onClick,v=(i||s)&&c;if(!a||!a.id)return console.warn("TaskItem: Invalid task data",a),null;var D=a.color||"bg-gantt-task";return e.createElement("div",{className:"absolute h-8 rounded ".concat(D," flex items-center px-2 text-xs text-gantt-task-text font-medium ").concat(c?"cursor-move":"cursor-pointer"),style:{left:"".concat(Math.max(0,n),"px"),width:"".concat(Math.max(20,r),"px"),top:"".concat(o,"px")},onClick:function(e){return h(e,a)},onMouseDown:function(e){return m(e,a,"move")},onMouseEnter:function(e){return f(e,a)},onMouseLeave:g,"data-testid":"task-".concat(a.id),"data-task-id":a.id,"data-instance-id":u},v&&e.createElement("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-white bg-opacity-30 dark:bg-opacity-40 cursor-ew-resize rounded-l",onMouseDown:function(e){e.stopPropagation(),m(e,a,"resize-left")}}),e.createElement("div",{className:"truncate select-none"},a.name||"Unnamed Task"),d&&"number"==typeof a.percent&&e.createElement("div",{className:"absolute bottom-1 left-1 right-1 h-1 bg-black bg-opacity-20 dark:bg-opacity-30 rounded-full overflow-hidden"},e.createElement("div",{className:"h-full bg-white dark:bg-gray-200 rounded-full",style:{width:"".concat(a.percent,"%")}})),v&&e.createElement("div",{className:"absolute right-0 top-0 bottom-0 w-2 bg-white bg-opacity-30 dark:bg-opacity-40 cursor-ew-resize rounded-r",onMouseDown:function(e){e.stopPropagation(),m(e,a,"resize-right")}}))},x=function(t){var a=t.task,n=t.position,r=t.dragType,o=t.taskId,i=t.startDate,s=t.endDate,c=t.totalMonths,l=t.monthWidth,d=t.showProgress,u=void 0!==d&&d,m=t.instanceId,f=t.className,g=void 0===f?"":f,h=a.startDate,v=a.endDate;try{var D=o||a.id,p=document.querySelector('[data-task-id="'.concat(D,'"][data-instance-id="').concat(m,'"]'));if(p&&(r||p.style.left||p.style.width)){var w=k.getLiveDatesFromElement(p,i,s,c,l);h=w.startDate,v=w.endDate}}catch(e){console.error("Error calculating live dates for tooltip:",e)}var y=k.getDuration(h,v),x=function(e){return k.formatDate(e)},E=function(){if(!r)return null;switch(r){case"move":return"Moving task...";case"resize-left":return"Adjusting start date...";case"resize-right":return"Adjusting end date...";default:return null}}();return e.createElement("div",{className:"rmg-task-tooltip absolute z-20 bg-[var(--rmg-tooltip-bg,#ffffff)] text-[var(--rmg-tooltip-text,#1f2937)] border border-[var(--rmg-tooltip-border,#e5e7eb)] rounded-md shadow-md p-2 text-xs select-none ".concat(g),style:{left:"".concat(n.x,"px"),top:"".concat(n.y-40,"px"),minWidth:"150px"}},e.createElement("div",{className:"font-bold mb-1"},a.name||"Unnamed Task"),E&&e.createElement("div",{className:"text-xs text-blue-500 dark:text-blue-400 mb-1 italic"},E),e.createElement("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1"},e.createElement("div",{className:"font-semibold"},"Start:"),e.createElement("div",null,x(h)),e.createElement("div",{className:"font-semibold"},"End:"),e.createElement("div",null,x(v)),e.createElement("div",{className:"font-semibold"},"Duration:"),e.createElement("div",null,y," day",1!==y?"s":""),u&&"number"==typeof a.percent&&e.createElement(e.Fragment,null,e.createElement("div",{className:"font-semibold"},"Progress:"),e.createElement("div",null,a.percent,"%")),a.dependencies&&a.dependencies.length>0&&e.createElement(e.Fragment,null,e.createElement("div",{className:"font-semibold"},"Dependencies:"),e.createElement("div",null,a.dependencies.join(", ")))))},E=function(r){var o=r.taskGroup,i=r.startDate,s=r.endDate,c=r.totalMonths,l=r.monthWidth,d=r.editMode,u=void 0===d||d,m=r.showProgress,f=void 0!==m&&m,g=r.className,h=void 0===g?"":g,v=r.tooltipClassName,D=void 0===v?"":v,p=r.onTaskUpdate,E=r.onTaskClick,b=r.onTaskSelect;if(!o||!o.id||!Array.isArray(o.tasks))return console.warn("TaskRow: Invalid task group data",o),e.createElement("div",{className:"relative h-16 text-gantt-text"},"Invalid task group data");var M=i instanceof Date?i:new Date,N=s instanceof Date?s:new Date,T=t(null),A=T[0],P=T[1],S=t(null),L=S[0],F=S[1],I=t(null),Y=I[0],C=I[1],O=t(0),R=O[0],U=O[1],z=t({x:0,y:0}),H=z[0],_=z[1],W=t(null),j=W[0],G=W[1],X=a(null),q=a(null),B=a(null),K=a("task-row-".concat(Math.random().toString(36).substring(2,11))),Q=function(e){G(e),B.current=e},J=j?w.getPreviewArrangement(j,o.tasks):w.detectOverlaps(o.tasks),V=Math.max(60,40*J.length+20),Z=function(e,t){E&&!L&&E(t,o),b&&b(t,!0)},$=function(e,t){L||(P(t),te(e))},ee=function(){L||P(null)},te=function(e){if(X.current){var t=X.current.getBoundingClientRect();_({x:e.clientX-t.left+20,y:e.clientY-t.top})}},ae=function(e){if(e instanceof MouseEvent&&"mousemove"===e.type){if(A&&X.current){var t=e,a=X.current.getBoundingClientRect();_({x:t.clientX-a.left+20,y:t.clientY-a.top})}}else te(e);if(L&&Y&&X.current)try{var n=e.clientX-R;if(0===n)return;var r=c*l,o=document.querySelector('[data-task-id="'.concat(L.id,'"][data-instance-id="').concat(K.current,'"]'));if(!o)return;var i=parseFloat(o.style.left||"0"),s=parseFloat(o.style.width||"0"),d=i,u=s;if("move"===Y)d=Math.max(0,Math.min(r-s,i+n)),o.style.left="".concat(d,"px");else if("resize-left"===Y){var m=s-20,f=Math.min(m,n);d=Math.max(0,i+f),u=Math.max(20,s-f),o.style.left="".concat(d,"px"),o.style.width="".concat(u,"px")}else"resize-right"===Y&&(u=Math.max(20,Math.min(r-i,s+n)),o.style.width="".concat(u,"px"));var g=k.calculateDatesFromPosition(d,u,M,N,c,l),h=g.newStartDate,v=g.newEndDate,D=k.createUpdatedTask(L,h,v);G(D),Q(D),U(e.clientX)}catch(e){console.error("Error in handleMouseMove:",e)}},ne=function(e,t,a){u&&(e.preventDefault(),e.stopPropagation(),F(t),C(a),U(e.clientX),G(t),function(e){F(e),q.current=e}(t),Q(t),document.addEventListener("mouseup",re),document.addEventListener("mousemove",ae))},re=function(){try{var e=q.current,t=B.current;e&&t&&p&&p(o.id,t)}catch(e){console.error("Error in handleMouseUp:",e)}finally{F(null),C(null),G(null),q.current=null,B.current=null,document.removeEventListener("mouseup",re),document.removeEventListener("mousemove",ae)}};return n((function(){!L&&j&&p&&p(o.id,j)}),[L,j,o.id,p]),n((function(){return function(){document.removeEventListener("mouseup",re),document.removeEventListener("mousemove",ae)}}),[]),o.tasks&&0!==o.tasks.length?e.createElement("div",{className:"relative border-b border-gantt-border ".concat(h),style:{height:"".concat(V,"px")},onMouseMove:function(e){return ae(e)},onMouseLeave:function(){return P(null)},ref:X,"data-testid":"task-row-".concat(o.id),"data-instance-id":K.current},J.map((function(t,a){return e.createElement(e.Fragment,{key:"task-row-".concat(a)},t.map((function(t){try{if(!(t&&t.id&&t.startDate instanceof Date&&t.endDate instanceof Date))return console.warn("Invalid task data:",t),null;var n=k.calculateTaskPixelPosition(t,M,N,c,l),r=n.leftPx,o=n.widthPx,i=(null==A?void 0:A.id)===t.id,s=(null==L?void 0:L.id)===t.id,d=40*a+10;return e.createElement(y,{key:"task-".concat(t.id),task:t,leftPx:r,widthPx:o,topPx:d,isHovered:i,isDragging:s,editMode:u,showProgress:f,instanceId:K.current,onMouseDown:ne,onMouseEnter:$,onMouseLeave:ee,onClick:Z})}catch(e){return console.error("Error rendering task:",e,t),null}})))})),(A||L)&&e.createElement(x,{task:j||L||A,position:H,dragType:Y,taskId:null==L?void 0:L.id,startDate:M,endDate:N,totalMonths:c,monthWidth:l,showProgress:f,instanceId:K.current,className:D})):e.createElement("div",{className:"relative h-16 text-gantt-text"},"No tasks available")},b=function(t){var a=t.months,n=t.currentMonthIndex,r=t.showWeeks,o=void 0!==r&&r,i=t.showDays,s=void 0!==i&&i,c=t.locale,l=void 0===c?"default":c,d=t.className,u=void 0===d?"":d,m=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()};return e.createElement("div",{className:"rmg-timeline ".concat(u)},e.createElement("div",{className:"flex border-b border-gantt-border"},a.map((function(t,a){return e.createElement("div",{key:"month-".concat(a),className:"w-[var(--gantt-month-width)] flex-shrink-0 p-2 font-semibold text-center text-gantt-text ".concat(a===n?"bg-gantt-highlight":""),"data-month":t.toISOString()},(r=t)instanceof Date?r.toLocaleString(l,{month:"short",year:"2-digit"}):"");var r}))),o&&e.createElement("div",{className:"flex border-b border-gantt-border"},a.map((function(t,a){var n=[1,8,15,22,29],r=m(t),o=150/r;return e.createElement("div",{key:"week-".concat(a),className:"relative w-[var(--gantt-month-width)] flex-shrink-0 h-6"},n.filter((function(e){return e<=r})).map((function(t){return e.createElement("div",{key:"week-".concat(a,"-").concat(t),className:"absolute top-0 bottom-0 border-l border-gantt-border",style:{left:"".concat(t*o,"px")}},e.createElement("span",{className:"absolute -top-1 left-1 text-xs text-gantt-text"},function(e){return e.toString()}(t)))})))}))),s&&e.createElement("div",{className:"flex border-b border-gantt-border"},a.map((function(t,a){var n=m(t);return e.createElement("div",{key:"days-".concat(a),className:"flex w-[var(--gantt-month-width)] flex-shrink-0 h-5"},Array.from({length:n}).map((function(t,r){return e.createElement("div",{key:"day-".concat(a,"-").concat(r),className:"border-r border-gantt-border",style:{width:"".concat(100/n,"%")}},r%5==0&&e.createElement("span",{className:"text-xs text-gantt-text opacity-70"},r+1))})))}))))},M=function(t){var a=t.currentMonthIndex,n=t.height,r=t.markerClass,o=void 0===r?"bg-red-500":r,i=t.label,s=void 0===i?"Today":i,c=t.className,l=void 0===c?"":c;return a<0?null:e.createElement("div",{className:"absolute top-0 w-px ".concat(o," z-10 ").concat(l),style:{left:"".concat(150*(a+.5),"px"),height:"".concat(n,"px")},"data-testid":"today-marker"},e.createElement("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 ".concat(o," px-1 py-0.5 rounded text-xs text-white whitespace-nowrap"),style:{top:"-10px"}},s))},N=function(t){var a=t.tasks,n=void 0===a?[]:a,r=t.headerLabel,o=void 0===r?"Resources":r,i=t.showIcon,s=void 0!==i&&i,c=t.showTaskCount,l=void 0!==c&&c,d=t.showDescription,u=void 0===d||d,m=t.rowHeight,f=void 0===m?40:m,h=t.className,v=void 0===h?"":h,D=t.onGroupClick,p=Array.isArray(n)?n:[];return e.createElement("div",{className:"rmg-task-list w-40 flex-shrink-0 z-10 bg-gantt-bg shadow-sm ".concat(v)},e.createElement("div",{className:"p-2 font-semibold text-gantt-text border-r border-b border-gantt-border h-10.5"},o),p.map((function(t){if(!t)return null;var a=function(e){if(!e.tasks||!Array.isArray(e.tasks))return 60;var t=g(e.tasks);return Math.max(60,t.length*f+20)}(t);return e.createElement("div",{key:"task-group-".concat(t.id||"unknown"),className:"p-2 border-r border-b border-gantt-border font-medium text-gantt-text bg-gantt-bg hover:bg-gantt-highlight transition-colors duration-150",style:{height:"".concat(a,"px")},onClick:function(){return e=t,void(D&&D(e));var e},"data-testid":"task-group-".concat(t.id||"unknown")},e.createElement("div",{className:"flex items-center"},s&&t.icon&&e.createElement("span",{className:"mr-2",dangerouslySetInnerHTML:{__html:t.icon}}),e.createElement("div",{className:"font-medium truncate"},t.name||"Unnamed")),u&&t.description&&e.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate"},t.description),l&&t.tasks&&t.tasks.length>0&&e.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},t.tasks.length," ",1===t.tasks.length?"task":"tasks"))})))},T=function(n){var r=n.tasks,o=void 0===r?[]:r,c=n.startDate,l=n.endDate,u=n.title,m=void 0===u?"Project Timeline":u,f=n.currentDate,D=void 0===f?new Date:f,p=n.showCurrentDateMarker,w=void 0===p||p,k=n.todayLabel,y=void 0===k?"Today":k,x=n.editMode,T=void 0===x||x,A=n.headerLabel,P=void 0===A?"Resources":A,S=n.showProgress,L=void 0!==S&&S,F=n.darkMode,I=void 0!==F&&F,Y=n.showWeeks,C=void 0!==Y&&Y,O=n.showDays,R=void 0!==O&&O,U=n.locale,z=void 0===U?"default":U,H=n.styles,_=void 0===H?{}:H,W=n.onTaskUpdate,j=n.onTaskClick,G=n.onTaskSelect;n.onTaskDoubleClick;var X=n.onGroupClick,q=n.fontSize,B=n.rowHeight,K=void 0===B?40:B;n.timeStep;var Q=a(null),J=a(null),V=t([]);V[0];var Z,$=V[1],ee=c||h(o),te=l||v(o),ae=d(ee,te),ne=ae.length,re=D.getMonth(),oe=D.getFullYear(),ie=D.getDate(),se=ae.findIndex((function(e){return e.getMonth()===re&&e.getFullYear()===oe})),ce=function(e,t){if(W)try{var a=i(i({},t),{startDate:t.startDate instanceof Date?t.startDate:new Date(t.startDate),endDate:t.endDate instanceof Date?t.endDate:new Date(t.endDate)});W(e,a)}catch(e){console.error("Error in handleTaskUpdate:",e)}},le=function(e,t){if(j)try{j(e,t)}catch(e){console.error("Error in handleTaskClick:",e)}},de=function(e,t){if($((function(a){return t?s(s([],a,!0),[e.id],!1):a.filter((function(t){return t!==e.id}))})),G)try{G(e,t)}catch(e){console.error("Error in onTaskSelect handler:",e)}},ue={fontSize:q||"inherit"},me=I?"dark":"",fe=i(i({},{container:"",title:"",header:"",taskList:"",timeline:"",taskRow:"",todayMarker:"",tooltip:""}),_);return e.createElement("div",{ref:Q,className:"rmg-gantt-chart w-full bg-gantt-bg text-gantt-text rounded-xl shadow-lg overflow-hidden ".concat(me," ").concat(fe.container),style:ue,"data-testid":"gantt-chart"},e.createElement("div",{className:"p-6 border-b border-gantt-border"},e.createElement("h1",{className:"text-2xl font-bold text-gantt-text ".concat(fe.title)},m)),e.createElement("div",{className:"relative flex"},e.createElement(N,{tasks:o,headerLabel:P,onGroupClick:function(e){if(X)try{X(e)}catch(e){console.error("Error in onGroupClick handler:",e)}},className:fe.taskList}),e.createElement("div",{ref:J,className:"flex-grow overflow-x-auto"},e.createElement("div",{className:"min-w-max"},e.createElement(b,{months:ae,currentMonthIndex:se,showWeeks:C,showDays:R,locale:z,className:fe.timeline}),e.createElement("div",{className:"relative"},w&&se>=0&&e.createElement(M,{currentMonthIndex:se,height:(Z=0,o.forEach((function(e){if(e&&Array.isArray(e.tasks)){var t=g(e.tasks);Z+=Math.max(60,t.length*K+20)}else Z+=60})),Z),label:y,dayOfMonth:ie,className:fe.todayMarker}),o.map((function(t){return t&&t.id?e.createElement(E,{key:"task-row-".concat(t.id),taskGroup:t,startDate:ee,endDate:te,totalMonths:ne,monthWidth:150,editMode:T,showProgress:L,onTaskUpdate:ce,onTaskClick:le,onTaskSelect:de,className:fe.taskRow,tooltipClassName:fe.tooltip}):null})))))))};export{w as CollisionManager,r as DateDisplayFormat,T as GanttChart,y as TaskItem,N as TaskList,k as TaskManager,E as TaskRow,b as Timeline,M as TodayMarker,x as Tooltip,o as ViewMode,p as calculateDuration,f as calculateTaskPosition,g as detectTaskOverlaps,h as findEarliestDate,v as findLatestDate,l as formatDate,D as formatDateRange,c as formatMonth,u as getDaysInMonth,d as getMonthsBetween,m as getStandardDayMarkers};
//# sourceMappingURL=index.esm.js.map
